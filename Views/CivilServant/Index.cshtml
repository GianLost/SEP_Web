@using SEP_Web.ViewModels

@inject IHttpContextAccessor _httpContext

@{
    ViewData["Title"] = "Servidores cadastrados";
}

<div>
    <div class="container-fluid justify-content-start w-100 pop-up">
        <a title="Cadastrar novo servidor ..." role="button" asp-controller="CivilServant" asp-action="Register"
            class="d-flex justify-content-evenly btn btn-md btn-primary"><i class="bi bi-person-plus-fill"></i> Novo</a>
        @await Html.PartialAsync("../Shared/Components/Alerts/_Alerts.cshtml")
    </div>

    <div class="card">
        <div class="card-header bg-primary text-light">
            <span class="fw-bold">Servidores :</span>
        </div>
        <div class="card-body card-table">
            <div class="table-responsive">
                <table id="servant-table"
                    class="table table-sm table-bordered table-striped table-light table-style users-table p-0">
                    <thead class="table-light bg-danger border-light text-primary">
                        <tr>
                            <th scope="col">Status</th>
                            <th scope="col">MASP</th>
                            <th scope="col">Nome</th>
                            <th scope="col">Login</th>
                            <th scope="col">E-mail</th>
                            <th scope="col">Telefone</th>
                            <th scope="col"></th>
                        </tr>
                    </thead>
                    <tbody>
                        @* A tabela será preenchida pelo DataTables via AJAX *@
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div id="dynamic-modal"></div> @* Contêiner para injetar modais dinâmicos *@
</div>

<script type="text/javascript">
    var currentUserType = '@_httpContext.HttpContext.Session.GetInt32("userType")';
</script>